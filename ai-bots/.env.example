# AI Bot Orchestrator Configuration

# Database Connection
DB_HOST=twlan-db
DB_PORT=3306
DB_NAME=twlan
DB_USER=twlan
DB_PASSWORD=twlan_password

# Game Server
GAME_BASE_URL=http://twlan:80
GAME_SESSION_TIMEOUT=3600

# Bot Configuration
BOT_COUNT=50
BOT_TICK_RATE=60  # seconds between decision cycles
BOT_RANDOMNESS=0.3  # 0.0-1.0, adds human-like variation

# Personality Distribution (percentages, must sum to 100)
PERSONALITY_WARMONGER=20
PERSONALITY_TURTLE=20
PERSONALITY_BALANCED=30
PERSONALITY_DIPLOMAT=15
PERSONALITY_CHAOS=15

# Performance Tuning
MAX_CONCURRENT_BOTS=10
REQUEST_TIMEOUT=30
DB_POOL_SIZE=20
CACHE_TTL=300

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
METRICS_PORT=9090

# Feature Flags
ENABLE_METRICS=true
ENABLE_AUTO_ALLIANCE=true
ENABLE_NIGHT_BONUS=true
ENABLE_ADAPTIVE_STRATEGY=true

# Safety Limits (Basic Rate Limiting)
MAX_ATTACKS_PER_HOUR=50
MAX_BUILD_QUEUE_LENGTH=5
MIN_ACTION_INTERVAL=5  # seconds

# Guardrails Configuration (NEW - Human-like + Anti-Harassment)
# ================================================================

# Sleep Windows (3-6 hours offline per bot)
ENABLE_SLEEP_WINDOWS=true
MIN_SLEEP_HOURS=3
MAX_SLEEP_HOURS=5

# Anti-Spam (Per-Target Limits)
MAX_ATTACKS_PER_VILLAGE_PER_TICK=2
MAX_ATTACKS_PER_PLAYER_PER_TICK=4
MAX_ATTACKS_PER_PLAYER_PER_HOUR=10

# Anti-Harassment (Hard Caps)
HARASSMENT_WINDOW_HOURS=1
MAX_ATTACKS_PER_PLAYER_PER_HARASSMENT_WINDOW=5

# Anti-Dogpile (Prevent Swarm Behavior)
DOGPILE_THRESHOLD=5  # How many bots attacking same player = dogpile

# Reaction Delays (Prevent Perfect Omniscience)
MIN_REACTION_DELAY_MINUTES=5
MAX_REACTION_DELAY_MINUTES=15

# Session Rhythm (10-30 min active, then cooldown)
ENABLE_SESSION_RHYTHM=true
MIN_SESSION_DURATION_MINUTES=10
MAX_SESSION_DURATION_MINUTES=30
MIN_SESSION_COOLDOWN_MINUTES=5
MAX_SESSION_COOLDOWN_MINUTES=15

# Failed Attack Cool-downs (Anti-Waste)
FAILED_ATTACK_COOLDOWN_MINUTES=15

# Circuit Breaker (System Protection)
MAX_SYSTEM_ATTACKS_PER_MINUTE=100

# Personality Scaling Multipliers
TURTLE_ATTACK_MULTIPLIER=0.4
DIPLOMAT_ATTACK_MULTIPLIER=0.6
WARMONGER_ATTACK_MULTIPLIER=1.15
DIPLOMAT_SUPPORT_MULTIPLIER=1.3
